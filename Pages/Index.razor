@page "/"
@inject INotesRepo _repo

@foreach (var note in _notes)
{
    <NoteComponent Note="note"></NoteComponent>
}


@code {
    private List<Note> _notes;

    [CascadingParameter]
    public EventCallback<int> NotesCountEvent { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        _notes = _repo.GetAllNotes().ToList();
        NotesCountEvent.InvokeAsync(_notes.Count);
    }
}